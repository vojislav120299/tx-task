@if (vm$ | async; as vm) {
    @if (vm.loading) {
        <mat-spinner class="margin-auto"></mat-spinner>
    }
    @else {
        @if (vm.error) {
            <div class="text-center">There was an error loading the invoices</div>
        }
        @if (vm.invoices) {
            <table mat-table [dataSource]="vm.invoices" class="table">
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> Invoice ID </th>
                    <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
                </ng-container>

                <ng-container matColumnDef="jobAdId">
                    <th mat-header-cell *matHeaderCellDef> Job Ad Id </th>
                    <td mat-cell *matCellDef="let element"> {{ element.jobAdId }} </td>
                </ng-container>

                <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef> Amount </th>
                    <td mat-cell *matCellDef="let element"> {{ element.amount }} </td>
                </ng-container>
    
                <ng-container matColumnDef="dueDate">
                    <th mat-header-cell *matHeaderCellDef> Due Date </th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.dueDate | date: 'dd/MM/yyyy' }}
                    </td>
                </ng-container>
                
                <tr mat-header-row *matHeaderRowDef="columns"></tr>
                <tr mat-row *matRowDef="let row; columns: columns;"></tr>
            </table>
        }
    }
}